# 任务分配

内容 | 状态 | 分配
---  | --- | ---
ALU | 已完成 | ALL
RAM/ROM | 已完成 | CL
OUT | 简单 | LSY
REGISTER | 简单 | LSY
PC | 简单 | 
PSW | 未知 | 
CLOCK | 忽略 | NONE
CONTROLLER | 困难 | ALL


# proteus-CPU

计组大作业

__软件版本__：Proteus 8.4 SP0

__总线__：16位数据，16位地址

__结构__：待定

__寄存器__：四个通用寄存器，其中包括累加寄存器AC

__指令集__：

_必需_：

序号 | 指令 | 功能 | 备注
-----|-----|-----|----
   1  |STO (XXXX), R\_i |  R\_i -> 存储器  | 
   2  |LAD R\_i, (XXXX) |  存储器 -> R\_i  | 
   3  |ADD R\_i |  AC+R\_i -> AC  | 
   4  |SUB R\_i |  AC-R\_i -> AC  | 
   5  |JMP XXXX |  PC <- XXXXH  |  64KB
   6  |CLA |  AC <- 0000H  | 

_可选_：

序号 | 指令 | 功能 | 备注
-----|-----|-----|----
  7  |JC XX | CF=1, PC <- PC+XX  |  XX: -128 ~ 127
  8  |IRET |  中断返回  | 恢复现场
  9  |PUSH R\_i | SP <- SP-1, (SP) <- R\_i  |  写一个机器字
  10  |POP R\_i | R\_i <- (SP), SP <- SP+1  | 


# 工作流

先一起设计好每个元件的接口，

分开做每个元件，放在单独的文件夹里并测试，总目录/component

测试无误后编译并生成元件，放在/build下

最后一起合并


# 元件

## ROM 2764

是一种存储芯片，用作存储数据

A0到A12为13条地址信号输入线，说明芯片容量为2的13次方，即8K

D0到D7为数据线，表示芯片的每个存储单元存放一个字节（8位二进制数）。对芯片读数时，作为输出线，对芯片编程时，作为输入线。

CE为输入信号，低电平有效。（有称作片选信号）

OE为输出允许信号，低电平有效

PGM为编程脉冲输入端，当对芯片编程时，由此端加入编程脉冲信号；读取数据时PMG的值为1

Vcc和Vpp都是接电源的，正常工作时是+5V



